ODC V3.2.0 
===============================

OceanBase 开发者中心（OceanBase Developer Center，ODC）核心目标是建立权限模型，向安全管控迈出第一步。自本版本起，ODC 支持权限管控，管理员可配置普通用户的权限。具体功能包括用户管理、角色管理、资源组管理以及公共连接管理。同时本版本针对稳定性和易用性进行了大量优化，包括结果集、SQL 窗口、异步执行、数据库对象以及历史缺陷修复，旨在为用户享有更好的使用体验。

版本信息 
-------------------------

* 当前版本：V3.2.0

* 前置版本：V3.1.1

* 发版时间：2021 年 9 月 22 日

* 对于 ODC V2.0.0 及以后版本，均可直接升级至本版本。

支持的 OceanBase 数据库版本 
----------------------------------------

OceanBase 开发者中心 V3.2.0 版本支持下表所列版本的 OceanBase 数据库。

* OceanBase V1.x

* OceanBase V2.0.x

* OceanBase V2.1.x

* OceanBase V2.2.x

* OceanBase V3.1.x

* OceanBase V3.2.x

新增功能 
-------------------------

* **公共资源管理** ：作为企业数据库开发平台，ODC 提供公共资源管控台的服务，方便 ODC 管理员进行用户的管理与权限和资源的分配。被授予管理员角色的 ODC 用户可在 ODC 首页查看 **公共资源管控台** 页签，非管理员用户首页不会显示此页签。管控台中提供用户管理、角色管理、公共连接管理、资源组管理和系统设置等服务。其中用户需要通过角色授予公共资源和个人资源权限。同时使用资源组可以批量授予或回收公共连接的权限。

* **新功能介绍** ：新增新功能提示模块，以帮助用户快速了解 ODC 新版本的特性和能力。首次访问 ODC 时，会自动弹出 **新功能介绍** 弹窗，弹窗内容包括当前版本的新特性和新功能以帮助快速了解 ODC。关闭弹窗后，可单击帮助中心下拉列表中的新功能介绍标签再次打开弹窗。

* **用户体验升级：** 优化了结果集交互，具体调整涉及支持结果集内部及与 EXCEL 间行列数据相互拷贝粘贴。支持列模式查看时支持和表数据相同的行列选择交互。支持复制部分结果集内容为 CSV/SQL 并输出到剪切板。当查询出的结果集内容超过屏幕显示时，支持 Ctrl+ 鼠标滚动查看超出屏幕外内容。同时结果集编辑时，文本字段支持在单元格内通过 Shift+Enter 进行换行并支持给字段单元格设置默认值。除了结果集本次迭代还优化了函数、存储过程、序列、程序包对象的新建、管理交互，并对会话属性的编辑交互进行了调整。调整了连接断连时的提示样式，不再影响现有窗口内容查看。

* **已有功能强化：** 本次迭代提高了导入导出数据大小的上限，由原来的 250M 上调至 2G。代码片段的内容上限由原来的 200 字符上调至 2000 字符，并取消了描述必填的限制。模拟数据上限也进行了上调，单次模拟量上限由 10w 调整至 100w。在 SQL 窗口方面，丰富了更多关键字、内置函数、内置程序包的高亮显示。同时在 SQL 窗口内执行影响结构树列表的语句时，结构树列表会根据执行结果自动刷新。在异步执行方面，支持保留查询结果集并提供了结果集查看和下载的入口。在表结构查看方面，支持了在表详情 DDL TAB 页查看表的索引及备注信息。

* **新增小工具：** 新增 IN 值转化小工具，通过该工具，可直接将一行数据（以空格分隔）或一列数据（以换行符分隔）转化成 IN 值，方便用户快速生成条件查询语句。

* **安装优化：** 本次迭代，在进行客户端安装或 Docker 部署时，支持自定义 ODC 占用端口。同时在客户端版本中集成了 JRE 环境，不再强制要求用户安装 JDK。

问题修复 
-------------------------

* 修复 Oracle 模式下在 ODC 在表详情页通过白屏修改表备注失败问题。

* 修复 Oracle 模式下在 ODC 在表详情页通过白屏新增唯一索引失败问题。

* 修复频繁删除创建同名表的情况下，ODC 左侧结构树中表列表出现表名重复问题。

* 修复结果集无法选择超出屏幕外的行列内容问题。

* 修复任务日志搜索过滤不灵敏，查找日志信息不精准问题。 

* 修复命令行窗口连接信息中无密码，需手动确定进入连接问题。

* 修复 RAW 类型对已有值的列再次上传空文件，导致值显示为 NULL 问题。

* 修复数据导出时导出对象全选，按对象类型筛选功能失效问题。

已知问题 
-------------------------

* **PL 支持** ：仅支持直连，不支持 OBProxy 连接方式的 PL 对象进行调试；ARM 版 OBServer 中的 PL 对象不支持调试；X86 版 OBServer 中不支持带输出参数的函数调试。

* **导出：** 库或表数据的导出量上限为 2G，超限会导致最终导出数据不完整；外键包含多列时，导出时不保证列的顺序。例如：`FOREIGN KEY(c1,c2) REFERENCE ......；`OBMYSQL V1.4.72 不支持唯一前缀索引定义的导出；OBMYSQL V1.4.x 及 OBORACLE V2.2.50 之前版本不支持生成列定义的导出；OBORACLE V2.2.50 之前的版本不支持函数索引定义的导出；OBORACLE V2.2.50 之前版本不支持虚拟列数据导出； 导出任务详情中导出对象的数据总记录数依赖 OceanBase 数据库视图，并非精准值。

* **导入：** 库或表数据的导入量上限为 2G，超限会导致附件无法上传；导入包含外键的表时，因无法保证关联表的导入顺序，可能会导致导入失败；导入的数据文件名需要与导入的目标表名大小写保持一致；不支持导入 SQL 文本中 `VALUE` 包含函数的值，例如：`INSERT INTO ... VALUES(TO_CHAR('2029-05-21','yyyy- ......`；单表导入时，若选择的数据文件中包含其它表数据，会把其它表也导入 ；使用 SQL 文件导入时，若 SQL 文件中包含 `CREATE TABLE` 语句且创建的表在数据库中已存在，导入任务不会终止，仅在日志中提示报错。

* **执行计划：** 需设置 `ob_enable_trace_log` 参数为 `on`，否则只显示首次执行的 SQL 的执行计划。