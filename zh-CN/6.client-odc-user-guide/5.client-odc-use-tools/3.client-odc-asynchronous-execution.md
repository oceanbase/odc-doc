异步执行 
=========================



概述 
-----------------------

OceanBase 开发者中心（OceanBase Developer Center，ODC）SQL 窗口中的语句是同步执行的，当语句运行时间过长时可能会出现执行超时的问题。可使用异步执行工具来运行耗时较高的 SQL 语句以避免语句执行超时。

![Image 441](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/3622611361/p293273.png)

操作步骤 
-------------------------

使用异步执行工具执行 SQL 语句的步骤如下：

1. 进入 **异步执行** 面板。

   1. 进入 ODC 首页，单击目标连接进入对应的数据库对象管理页面；

      
   
   2. 单击顶部导航栏中的 **工具** 标签；

      
   
   3. 在弹出的下拉菜单中选择 **异步执行** 以弹出 **新建异步执行** 面板。

      
   

   

2. 指定 **任务名称** 。

   在面板的 **任务名称** 文本框中自定义一个任务名（任务名不可重复，长度不超过 110 个字符）。
   

3. 指定 **SQL 内容** 。

   异步执行工具支持两种指定 SQL 内容的方式：
   * **SQL 录入** ：SQL 录入为默认方式，可在编辑区中直接录入 SQL 脚本。

     **说明**

     
     * 在 SQL 录入中，最大允许输入 500000 个字符，如超限可上传附件。

       
     
     * 单击 **IN 值转化** 按钮，可将批量复制的数据转化成 in（'A','B'）格式。

       * 列值分隔符号为换行符。

         
       
       * 行值分隔符为空格或 TAB 值。

         
       

       
     

     
     
   
   * **上传附件** ：选择上传附件方式后，单击文件池进入文件资源管理器选择要导入的文件或者直接将导入文件拖入文件池中以完成文件上传。文件大小不超过 20 MB，当前只支持上传 .sql 后缀的 SQL 文件。

     
   

   

4. **分隔符** ：支持 delimiter 分隔符号。

   

5. **查询结果限制** ：支持设置查询结果限制 (1-100w)。

   

6. 指定 **任务错误处理** 方式。

   异步执行工具提供两种任务错误处理方式：
   * **停止任务** ：停止任务为默认方式，运行脚本的过程中出现错误时会停止运行。

     
   
   * **忽略错误继续任务** ：选择忽略错误继续任务方式，在运行脚本出现错后将跳过错误语句继续执行。

     
   

   

7. 指定 **执行超时时间** 。

   在 **执行超时时间** 文本框中输入数字指定语句执行超时时间，单位为小时。默认超时时间为 48 小时，最大不超过 480 小时。
   

8. 指定 **任务描述** （选填）。

   可在 **任务描述** 文本框中输入不超过 200 个字符的描述信息，该项为选填项。
   

9. 生成异步执行任务。

   在面板中完成上述信息的指定后，单击右下角的 **新建** 按钮以提交信息生成异步执行任务。
   

10. 新建完成后，会自动转入 **任务中心** ![符号](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/8089948361/p363595.jpg) **异步执行** 页面，可单击 **查看** 按钮，在任务详情页面查看 **任务信息** 和 **任务日志** 。

    



