# 版本发布记录

本次 2 月发版的 OceanBase 开发者中心（OceanBase Developer Center，ODC）V4.1.1 主要修复前期版本中出现的问题。例如：SQL 执行时查询 SQL 执行时间慢、公有云 STS 账号登录时的逻辑错误、打开命令行工具，密码有特殊字符时无法连接、水平越权漏洞等，同时对表查询性能进行了优化，具体变更详见缺陷修复列表。

## 版本信息 

* **当前版本：** V4.1.1

* **前置版本：** V4.1.0

* **发版时间：** 2023 年 02 月 24 日

* **支持的升级路径：** 对于 ODC V2.0.0 及之后版本，均可直接升级至本版本。




## 支持的 OceanBase 数据库版本

OceanBase 开发者中心 V4.1.0 版本支持下述版本的 OceanBase 数据库。

* ODC 通用功能支持 OceanBase 数据库版本

  * OceanBase V1.4.x（主流版 V1.4.7）
  
  * OceanBase V2.0.x
  
  * OceanBase V2.1.x
  
  * OceanBase V2.2.x（主流版 V2.2.7）
  
  * OceanBase V3.1.x（主流版 V3.1.2）
  
  * OceanBase V3.2.x（主流版 V3.2.4）

  * OceanBase V4.0.0
  
  * OceanBase 社区版
  

  

* ODC PL 功能支持 OceanBase 数据库版本

  * PL 对象（函数/存储过程/程序包）编译、PL 对象（函数/存储过程）调试和匿名块调试：支持 V2.2.7、V3.0.x 及之后版本，推荐 OceanBase V3.2.3 BP4 及之后版本体验更友好的调试能力。
  
  * PL 对象（函数/存储过程/程序包）运行和匿名块运行：支持 V2.0.x 及之后版本。




## 问题修复 

* 数据库对象

  * 回收站删除、还原对象时生成的 SQL 无法执行。
  
  * OceanBase Oracle 模式主键对应的索引范围错误地展示为 LOCAL。

  * 修改表的列时可能会由于字符集不匹配而失败。

* SQL 执行

  * SQL 执行时查询 SQL 执行时间慢。

  * 执行 PL 时，JDBC Prepare 阶段时间计算错误。

  * 分隔符为 / 时，SQL 执行分句可能出错。

* 连接管理

  * 未保存密码时打开连接报错。
  
  * SQL 窗口中偶现断连的错误。
  
  * 用户缺少数据库权限，进入连接后有报错。

* 云服务
  
  * 公有云场景下载文件时文件名可能会错误。

  * 公有云 STS 账号登录时的逻辑错误。

  * 反复修改连接实例，保存后连接失效。

* 其它模块
  
  * 打开命令行工具，密码有特殊字符时无法连接。

  * 流程配置中找不到对应的角色。

  * 影子表同步时，ON UPDATE CURRENT_TIMESTAMP 没有指定精度。

  * 由于环境变量导致的客户端版 ODC 启动失败。

* 体验优化

  * 优化了公有云错误消息展示。

  * OceanBase MySQL 模式大规模表列场景下的表信息获取性能优化。

* 安全加固

  * 升级 fastjson 依赖库版本为 1.2.83.noneautotype。

  * 修复潜在的越权问题。

## 已知问题

* 客户端版 ODC 不支持安装在中文目录名中。

* 导出包含虚拟列的表时，导出的数据文件和内容显示异常。

* Web 版 ODC 中，结构或数据的导入量上限为 2GB，超限文件无法上传。

* Web 版 ODC 中，结构或数据的导出量上限为 2GB，超限会导致最终导出数据不完整。

* 导出任务详情中，导出对象的数据总记录数依赖 OceanBase 数据库视图，并非精准值。

* 需设置 `ob_enable_trace_log` 参数为 `on`，否则只显示首次执行的 SQL 的执行计划。