# Project collaboration management

## Background information

Web OceanBase Developer Center (ODC) V4.2.0 and later allow a user with the project creation permission to create a project and add members to the project. A project member can add and change databases in the project.

This topic describes how to implement database changes through project collaboration.

## Technical mechanism

![1](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/odc/420/700.database-change-management/200.project-collaborative-management/2EN.png)

1. The ODC system administrator grants the project creation permission to a user. Then, the user can create a project and adds members to the project.

2. The project administrator or DBA adds a database to the project.

3. A project member initiates a database change ticket.

4. ODC determines the risk level of this ticket based on the risk level identification rules and selects the corresponding approval process for this ticket.

5. After the ticket is approved, the database change is automatically executed by ODC or manually executed by the user.

## Project creation

### Method 1: A user with the project creation permission creates a project

1. The system administrator grants the project creation permission to a user.

   ![2](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/odc/424/700.database-change-management/200.project-collaborative-management/2EN.png)

2. The project administrator creates a project and adds members to the project.

   <main id="notice" type='explain'>
      <h4>Note</h4>
      <p>An ODC user with the project creation permission can create projects. By default, the user who creates a project is granted the administrator role of this project. After the project administrator assigns ODC users as members of the project, the members can access this project after logging on to the ODC console with their own accounts, and work as a team in the project. </p>
   </main>

   ![3.0](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/odc/424/700.database-change-management/200.project-collaborative-management/3EN.png)

   | Parameter | Description |
   |-------------|--------------|
   | Project Name | The name of the project.  |
   | Administrator | A user that manages all databases and members of the project.  |
   | DBA | A user that manages all databases of the project.  |
   | Developer | A user that can log on to all databases, execute SQL statements, and submit tickets, which is usually a developer.  |
   | Security Administrator (Optional) | A user that can manage only sensitive columns of the project and participate in review.  |
   | Participant (Optional) | A user that can participate only in review.  |
   | Description (Optional) | The description of the project.  |

### Method 2: Join a project

An ODC user can apply for project permissions to join an existing project.

1. On the **Projects** or **Tickets** tab, click the corresponding button to apply for project permissions.

   a. Apply for permissions on the **Projects** tab.

   ![3.1](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/odc/430/700.database-change-management/200.project-collaborative-management/3.1EN.png)

   b. Apply for permissions on the **Tickets** tab.

   ![3.2](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/odc/430/700.database-change-management/200.project-collaborative-management/3.2EN.png)

2. Select the project, specify your role, enter the reason for application, and then click **Apply**.

   ![3.3](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/odc/430/700.database-change-management/200.project-collaborative-management/3.3EN.png)

3. View the approval status on the **Tickets** tab.

   ![3.4](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/odc/430/700.database-change-management/200.project-collaborative-management/3.4EN.png)

4. View the project that you joined in the project list.

   ![3.5](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/odc/430/700.database-change-management/200.project-collaborative-management/3.5EN.png)

## Database management

### Method 1: A user with database permissions adds a database

1. Click the name of a project to go to the project management page.

   ![4](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/odc/430/700.database-change-management/200.project-collaborative-management/4EN.png)

2. Add a database.

   ![5](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/odc/430/700.database-change-management/200.project-collaborative-management/5EN.png)

3. A member can export data, import data, perform database changes, and log on to databases. The project administrator or DBA can set a database administrator and change the project to which a member belongs.

   ![6.0](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/odc/430/700.database-change-management/200.project-collaborative-management/6EN.png)

   <main id="notice" type='explain'>
     <h4>Note</h4>
     <p>If a data source has been bound to a project, you cannot transfer the databases in the data source to other projects. </p>
   </main>

### Method 2: Apply for database permissions

<main id="notice" type='notice'>
  <h4>Notice</h4>
  <ul>
  <li>To apply for database permissions, make sure that you have joined the corresponding project. </li>
  <li>You can apply for permissions on databases only in the project that you have joined. </li>
  </ul>
</main>

You can apply for the query, export, and change permissions on databases.

1. On the **Projects** or **Tickets** tab, click the corresponding button to apply for database permissions.

   a. Apply for permissions on the **Projects** tab.

   ![1database](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/odc/430/700.database-change-management/200.project-collaborative-management/1database7EN.png)

   b. Apply for permissions on the **Tickets** tab.

   ![2database](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/odc/430/700.database-change-management/200.project-collaborative-management/2database8EN.png)

2. Select the project, databases, permission types, and permission validity period, enter the reason for application, and then click **Apply**.

   ![3database](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/odc/430/700.database-change-management/200.project-collaborative-management/3database9EN.png)

## Logical database management

ODC V4.3.2 and later allow you to configure a logical database and a logical table for one or more physical databases, in order to query and manage huge database and table shards.

ODC V4.3.2 only supports the [structural changes of logical databases](620.Logical-database-change.md) and the configuration of [risk level specifications](300.risk-level-risk-identification-rules-and-approval-process.md) in security specifications.

<main id="notice" type='explain'>
   <h4>Note</h4>
   <p>If you do not have the logical database permissions, you can click the corresponding button on the <b>Projects</b> or <b>Tickets</b> tab to apply for the permissions. </p>
</main>

### Relationship between physical and logical databases

1. You can configure a logical database for one or more physical databases with the same data source and in the same environment.

2. After a logical database is configured, ODC automatically parses the database, retrieves physical tables with similar names and same structure from the database, stores these tables into a logical table, and generates an expression for this logical table.

   <main id="notice" type='explain'>
      <h4>Note</h4>
      <ul><li>No logical table will be generated if a physical table structure is unique in the logical database. </li>
      <li>The default name of the generated logical table consists of the non-number strings shared by the retrieved physical tables. For example, if the names of the retrieved physical tables are <code>db.test_0</code>, <code>db.test_1</code>, <code>db.test_2</code>, and <code>db.test_3</code>, the generated logical table is named <code>test</code>, and its expression is <code>db.test_[0-3]</code>. For more information, see the <a href="../500.sql-development/700.database-objects/100.web-odc-table-objects/200.web-odc-create-a-table.md">description of logical table expression rules</a>. </li></ul>
   </main>

### Logical database configuration

1. Click the name of a project to go to the project management page.

   <img src="https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/odc/432/700.database-change-management/200.project-collaborative-management/logical1EN.png" width="400">

2. On the **Database** tab, click **Add Database** and select **Configure Logical Database** from the drop-down list.

   <img src="https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/odc/432/700.database-change-management/200.project-collaborative-management/logical2EN.png" width="300">

3. In the panel that appears, specify the following parameters.

   <img src="https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/odc/432/700.database-change-management/200.project-collaborative-management/logical3EN.png" width="900">

   |  Parameter | Description |
   |-------------|--------------|
   | Base Database     | Select a database as the benchmark. The database must be included in the logical database to specify the database environment and type. ODC can filter databases based on the benchmark database information, such as the name, environment, and type. |
   |Logical Database Name|The name of the logical database, that is, the prefix shared among the names of the selected physical databases. For example, the name of the logical database configured for physical databases foo00 to foo99 is foo. |
   | Logical Database Alias |The alias is used to distinguish logical databases with the same name. By default, the alias is the same as the actual logical database name. The value must be unique and cannot be modified.  |
   | Database|Select a database. |

4. Click **Submit**.

### List of logical databases

<img src="https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/odc/432/700.database-change-management/200.project-collaborative-management/logical4EN.png" width="1100">

You can find the list of configured logical databases on the **Database** tab.

You can click the corresponding button in the **Actions** column to perform the following operations.

- Manage a logical table: ODC supports automatic data extraction and manual creation of a logical database.

  <img src="https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/odc/432/700.database-change-management/200.project-collaborative-management/logical5EN.png" width="400">

- Create a logical database change task. For more information, see [Logical change management](620.Logical-database-change.md).
- Manage databases in the SQL development window after logon.
- Remove a logical database.

## Table management

A project member can apply for permissions on tables in any database in the project.

A project member can click **Table Permission Application** to apply for the query, export, and change permissions on tables.

<main id="notice" type='notice'>
  <h4>Notice</h4>
  <ul><li>You can apply for permissions only on tables in the project that you have joined. </li>
  <li>If a table is transferred to another database or the database to which the table belongs is transferred to another project, the original permissions on the table will become invalid. </ul>
</main>

1. On the **Projects** or **Tickets** tab, click **Table Permission Application** to apply for table permissions.

   a. Apply for permissions on the **Projects** tab.

      <img src="https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/odc/431/700.database-change-management/200.project-collaborative-management/0tableEN.png" width="900">

   b. Apply for permissions on the **Tickets** tab.

      <img src="https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/odc/431/700.database-change-management/200.project-collaborative-management/2tableEN.png" width="900">

2. Select the project, tables, permission types, and permission validity period, enter the reason for application, and then click **Apply**.

   <img src="https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/odc/431/700.database-change-management/200.project-collaborative-management/3tableEN.png" width="900">

3. After the application, you can manage tables based on the permission types.

   - If you have the query permission on a table, you can execute query statements on the table in the SQL window.
   - If you have the change permission on a table, you can execute change statements on the table in the SQL window.
   - If you have the export permission on a table, you can initiate a ticket to export the table.
   - If you have the query permission on a database, you can execute query statements on the database in the SQL window.
   - If you have the change permission on a database, you can execute change statements on the database in the SQL window and initiate tickets for the database except regular export tickets and result set export tickets.
   - If you have the export permission on a database, you can initiate export tickets for the database.
   - If you have the query and export permissions on a database, you can initiate a result set export ticket for the database.

   For more information, see [Create and manage tables in SQL](../500.sql-development/100.sql-editing-and-execution.md), [Visually create and manage tables](../500.sql-development/700.database-objects/100.web-odc-table-objects/200.web-odc-create-a-table.md), and [Database change management](600.database-change.md).

## Ticket management

A project member without the database editing permission can submit a ticket to execute a data export, data import, data mocking, database change, lock-free schema change, SQL plan, or data archiving task.

![7](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/odc/430/700.database-change-management/200.project-collaborative-management/7EN.png)

## Member management

The project administrator can add, edit, or remove members as well as manage database permissions on the **Members** tab.

![8.0](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/odc/430/700.database-change-management/200.project-collaborative-management/8EN.png)

## Message notification

A project member can specify the ticket events for which notifications are sent and add notification channels such as DingTalk, Feishu, WeCom, and custom webhooks on the **Notification** tab. When the corresponding ticket event occurs, ODC will send a change message to notify the project member. For more information, see [Message notification management](1000.message-notification.md).

![9](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/odc/430/700.database-change-management/200.project-collaborative-management/9EN.png)

## Project settings

The project administrator can rename the project and archive the project on the project settings page.

![10](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/odc/430/700.database-change-management/200.project-collaborative-management/10EN.png)

## References

- [Risk level, risk identification rule, and approval process management](../700.database-change-management/300.risk-level-risk-identification-rules-and-approval-process.md)

- [SQL check specifications](../700.database-change-management/400.sql-check-specification.md)

- [SQL window specifications](../700.database-change-management/500.sql-window-specification.md)

- [Create a data source](../400.connection-management/100.create-a-personal-connection.md)

- [Database change management](../700.database-change-management/600.database-change.md)

- [Import schemas and data](../600.import-and-export/100.import-data.md)

- [Export schemas and data](../600.import-and-export/200.export-data.md)

- [Users and roles](100.user-permission-and-management/100.odc-users-and-roles.md)

