# Create a data source

## Background information

OceanBase Developer Center (ODC) allows you to connect to OceanBase Database to edit and manage data sources, including database objects and resources. ODC can connect to OceanBase Database in MySQL and Oracle modes on Apsara Stack and Alibaba Cloud.

This topic describes how to create a data source in ODC.

## Prerequisites

- You have deployed [Web ODC](../1100.deployment-guide/100.deployment-overview.md).

- You have deployed and logged on to [Web ODC](../300.quickstart/200.web-odc-quickstart/200.quickstart-deployment-odc.md).

- You have obtained the connection information or connection string of the data source instance. A connection string is in the format of `mysql -h host name -P port number -u database username@tenant name#cluster name-D default database -p 'database password'`. Here is an example of a connection string:

   ```shell
   -hxxx.x.x.x -P8080 -uodc@mysql_tenant#odc_cluster -Dodc -p'******'
   ```

## Procedure

### Create a single data source

Example: Create an OceanBase data source in MySQL mode in ODC.

| Parameter | Example value |
| -------- | -------- |
| Data source name | mysql4.2.0 |
| Host IP address | xxx.x.x.x |
| Port | 8080 |
| Cluster name | odc_cluster |
| Tenant name | mysql_tenant |
| Database username | odc |
| Database password | ****** |
| sys tenant account | test |
| sys tenant password | ****** |

1. Log on to Web ODC. In the left-side navigation pane, choose **Data Source** > **Create Data Source**.

   ![1](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/odc/421/en/data-source-list.png)

2. In the **Create Data Source** panel, specify the following information.

   <main id="notice" type='explain'>
      <h4>Note</h4>
      <p>If you have obtained the connection string of OceanBase Database, you can obtain the following information from the connection string or use the Intelligent Parsing tool provided on the tab to fill in the information. </p>
   </main>

   ![2](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/odc/421/en/create-data-source.png)

   | Parameter | Description |
   |-------------|--------------|
   | Data Source Type | **OceanBase** is selected by default.  |
   | Intelligent Parsing | You can paste a connection string to the field. ODC automatically identifies the string and fills in the corresponding values.  |
   | Connection Type | The type of the target database. ODC supports the following database types:<ul><li>**OceanBase MySQL** or **OceanBase Oracle**: a database instance that you build in your own environment. </li><li>**OB Cloud MySQL** or **OB Cloud Oracle**: a database instance on Alibaba Cloud. </li><li>**OB Sharding MySQL**: a logical database, which supports only the MySQL mode. </li></ul> |
   | Endpoint | <ul><li> **Host IP**: the IP address of the server where the target database is located. </li><li> **Port**: the port number of the server where the target database is located. </li><li> **Cluster**: the name of the cluster where the target database is located. This parameter is not required for logical databases. </li><li> **Tenant**: the name of the tenant in which the target database is located. This parameter is not required for logical databases. </li></ul><main id="notice" type='explain'><h4>Note</h4><ul><li>You can obtain the host name and port number from the details page of the tenant in which the target database is located, such as a tenant created on Alibaba Cloud or in OceanBase Cloud Platform (OCP). </li><li>The cluster name is required only when you connect to OceanBase Database by using an OBProxy. </li></ul></main> |
   | Database Account | <ul><li> **Account**: the username of an account created in the tenant. In MySQL mode, this account must have the privilege to access the default database. </li><li> **Password**: the password of the account created in the tenant. You can click **Test Connection** next to the password field to test whether you can connect to the target database. </li></ul> <main id="notice" type='notice'><h4>Note</h4><ul><li> An error will be returned if the configurations such as the username, password, or network settings are invalid. </li><li> You can connect only to a database in the current tenant. Otherwise, a test failure error will be returned. </li><li>Before you save the configurations, you can click <strong>Test Connection</strong> to test the database connection. If the database username and password are correct, the system returns a message indicating that the connection succeeded.<strong></strong> If you use ODC V4.0.0 and later, you can save the connection without setting the database account and password. </li></ul></main> |
   | Environment | You can select the environment type based on your needs. Valid values: **dev**, **sit**, and **prod**.  |
   | sys Tenant Account Settings | Choose whether to select **Query Tenant Views with sys Tenant Account**. If you select this option, specify **Account** and **Password**. <br>When the database is a physical database, you can specify an account that has the privilege to query the sys tenant views and the password. This field is automatically filled in when **sys** is specified as the tenant in **Endpoint**. <ul><li> **Account**: an account that has the privilege to query the views in the sys tenant. </li><li> **Password**: the password of the account. </li></ul>    After you specify the account and password, you can click **Test Connection** next to the password field to verify whether the account information is valid. <main id="notice" type='notice'><h4>Note</h4><ul><li> In ODC V2.3.0 and later versions, to use the import and export features, you must configure the root@sys account in the <b>Advanced Configuration</b> section when you create a connection. </li><li> In ODC V2.4.1 and later versions, the dependency of the import and export features on the root@sys user is removed when you query views. If the root@sys account is not configured, some ODC objects such as stored procedures and functions do not support the export feature. If the root@sys account is configured, you can access the views under the sys tenant to obtain the optimal data routing strategy, which can increase the export speed. </li><li>  The account and password of the sys tenant are the account and password of a user in a cluster tenant. Do not enter "@sys#cluster" in the <strong>Account</strong> field. For example, the `root` account can be used.  </li></ul></blockquote> |
   | Enable SSL | Specifies whether to enable SSL link encryption to ensure secure data transmission between clients and servers. <main id="notice" type='notice'><h4>Note</h4><ul><li>By default, the `REQUIRE NONE` option is specified when you create a user. The `REQUIRE NONE` option specifies that no encryption method is used. In this case, if you select <strong>Enable SSL</strong>, an SSL connection is created. Otherwise, a regular connection is created. </li><li>If the `REQUIRE SSL` option is specified when you create the user, you must select <strong>Enable SSL</strong> to create an SSL connection. Otherwise, the connection fails. <br>If the user is created by specifying the `REQUIRE SSL` option, you do not need to upload the certificates, but you must select <strong>Enable SSL</strong>. Otherwise, the connection fails. We recommend that you upload the following certificates for identity verification:<ul><li>CA certificate: The client will verify the identity of the server.</li><li>Client key and client certificate: The server will verify the identity of the client. </li></ul></li><li>If the user is created by specifying the `REQUIRE X509` option, you must select <strong>Enable SSL </strong>and upload the CA certificate, client key, and client certificate. The client and server will verify the identity of each other. If you do not select <strong>Enable SSL </strong>or do not upload the certificate, you cannot create a connection. </li></ul>Before you select **Enable SSL** in ODC, make sure that SSL is enabled for the OBServer node. If you connect to the OBServer node by using an OBProxy, make sure that SSL is enabled for the OBProxy. For more information about how to enable SSL for an OBServer node, see <a href="https://www.oceanbase.com/docs/enterprise-oceanbase-database-cn-10000000000944716">Transmission encryption of OBServer nodes</a> and <a href="https://help.aliyun.com/document_detail/254643.html">SSL link encryption</a>. </main> |

3. After you specify the preceding information, click **Save** in the lower-right corner of the panel.


4. In the dialog box that appears, specify the data source name and click **OK**.

   The data source is then saved to the ODC data source list.

   <main id="notice" type='explain'>
      <h4>Note</h4>
      <ul>
      <li>You can click <strong>Copy Connection String</strong> in the lower-right corner of the <strong>Create Data Source</strong> panel to copy the connection information being edited on the current panel as a connection string. This allows you to obtain the connection information with ease. </li>
      <li>If you do not want to save the current connection configuration, click <strong>Cancel</strong>. In the dialog box that appears, confirm whether to exit the data source creation page. </li>
      </ul>
   </main>

4. After the data source is created, you can view the data source in the data source list.


### Import multiple private connections at a time

ODC V4.2.0 allows you to upload a configuration file to import multiple data sources. Perform the following steps:

1. On the **Data Sources** page, click **Batch Import**.

   ![5](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/odc/421/en/batch-import-button.png)

2. In the **Batch Import** panel, click **Download Template**, and specify the information of the data sources in the file.

   ![6](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/odc/421/en/batch-import.png)

   | Parameter | Description |
   |-------------|---------------------------|
   | Connection Name | Required. The name of the connection. The name cannot contain spaces and must be unique.  |
   | Connection Type | Required. Valid values: **OceanBase Oracle**, **OceanBase MySQL**, **OB Cloud Oracle**, **OB Cloud MySQL**, and **OB Sharding MySQL**.  |
   | Host IP Address | Required. The IP address of the server where the target database is located. <br>You can obtain the host IP address from the details page of the tenant in which the target database is located, such as a tenant created on Alibaba Cloud or in OCP.  |
   | Port | Required. The port number of the server where the target database is located. <br>You can obtain the port number from the details page of the tenant in which the target database is located, such as a tenant created on Alibaba Cloud or in OCP.  |
   | Cluster Name | Optional. The name of the cluster where the target database is located. This parameter is not required for logical databases.  |
   | Tenant Name | Required. The name of the tenant in which the target database is located. This parameter is not required for logical databases. <br>The tenant name cannot contain spaces.  |
   | Username | Required. An account created in the tenant. In MySQL mode, this account must have the privilege to access the default database.  |
   | Password | The password of the account in the tenant. If the **Password** parameter is left unspecified, it indicates that the password is an empty string.  |
   | Environment | The environment type. Valid values: **dev**, **sit**, and **prod**.  |
   | sys tenant account | Optional. The account that has the privilege to view the sys tenant views.  |
   | sys tenant password | Optional. The password of the account.  |

3. Click the file pool in the **Batch Import** panel to open the file explorer and select the file to be imported. You can also directly drag the file to the file pool to upload it.

4. Click **Import** to import the data sources.

   You can view the data sources in the data source list.
