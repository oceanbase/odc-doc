Preparations before deployment
==========================

Before you deploy OceanBase Developer Center (ODC), you must prepare the MetaDB and the server environment. After ODC is deployed, log on to Web ODC in Google Chrome.

MetaDB
-------------------------

The MetaDB stores connections created in ODC and user data generated by operations such as script execution. You must prepare the MetaDB (in MySQL mode of OceanBase Database) before you deploy Web ODC. The MetaDB of Client ODC is automatically created when you use Client ODC for the first time, and does not need to be manually created.

**Procedure**

1. Apply for a tenant in MySQL mode of OceanBase Database. The specification of the tenant is 2C8G. You can set the tenant name as you like. In this topic, the tenant name is `odc_tenant` and the cluster name is `odc_cluster`.

   <main id="notice" type='explain'>
      <h4>Note</h4>
      <ul>
      <li>ODC of a version later than V3.3.0 provides enterprise-level management capabilities such as change process and operation audit. </li>
      <li>ODC of a version later than V3.3.1 revokes the limitations on MetaDB versions. </li>
      <li>We recommend that you allocate at least 2 CPU cores and 8 GB of memory to the OceanBase Database tenant where the MetaDB is located. Otherwise, the performance of the MetaDB may be affected. </li>
      </ul>
   </main>

2. Create a database in the tenant as the MetaDB, and then create a user to access this MetaDB. You can set the MetaDB name, username, and password as you like. In this topic, the database name is `odc_metadb`, and the database username and password are both `obodc`.

3. Note down the MetaDB name, username, password, tenant name, and cluster name, which will be passed as parameters during the deployment of ODC.


Server environment
-------------------------

The following table lists the resource specifications for the sever environment of Web ODC, which vary based on the number of ODC users.

| Number of ODC users | Server type | Server quantity | Minimum functional configuration | Minimum performance configuration |
| ------------- |-------------   |-------------|-------------|-------------|
| 20 | ODC Docker deployment server | 1. You can deploy ODC on the OceanBase Cloud Platform (OCP) server. | 2 CPU cores and 4 GB of memory | 4 CPU cores and 16 GB of memory |
| 100 | ODC Docker deployment server | 3. You can deploy ODC on the OCP server. | 4 CPU cores and 16 GB of memory | 8 CPU cores and 32 GB of memory |
| 500 | ODC Docker deployment server | 3. You can deploy ODC on the OCP server. | 8 CPU cores and 32 GB of memory | 16 CPU cores and 64 GB of memory |

If the number of ODC users exceeds 500, adjust the resource specifications based on the actual situation.

<main id="notice" type='explain'>
   <h4>Note</h4>
   <ul>
   <li>The actual resource usage depends on the number of concurrent users and the features used. The resource specifications provided in the table are empirical values for reference only. </li>
   <li>To enable Web ODC to provide high availability, you must deploy Web ODC on multiple servers. For more information, see <a href="400.deploy-ha-odc-images.md">Deploy ODC in high-availability mode</a>. </li>
   <li>To enable lightweight deployment, ODC uses a container image. Make sure that Docker is installed on the server so that you can pull and run the image. </li>
   </ul>
</main>

Browser
------------------------

We recommend that you use Google Chrome 78 or later to access Web ODC.

Configure an allowlist
--------------------------

ODC of a version later than V3.3.1 allows you to configure a database allowlist to prevent server-side request forgery (SSRF) attacks.

Connect to the MetaDB of ODC as the administrator, access this connection, and execute <code>UPDATE config_system_configuration SET `value`='x.x.x.x' WHERE `key` = 'odc.connect.host-white-list';</code> to configure an allowlist. The allowlist can contain multiple IP addresses separated with commas. However, it does not support CIDR blocks.

Install and run the Docker container
------------------------------

For information about how to install and run the Docker container, see [Bind mounts](https://docs.docker.com/storage/bind-mounts/).
